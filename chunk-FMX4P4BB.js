import{a as B}from"./chunk-J55RNOFG.js";import{A,B as x,C as b,D as L,H as V,J as Y,b as w,c as E,e as f,g as T,i as l,j as v,k as u,l as O,m as P,n as h,o as m,p as c,q as M,r,s as a,t as H,u as D,w as d,x as S,y as g,z as t}from"./chunk-WLR22GP5.js";var C=class s{name=b("");response=new f;isMobile=!1;ngOnInit(){this.isMobile=window.matchMedia("(pointer: coarse)").matches}noButtonStyle={left:"60%",top:"50%"};onYes(){this.response.emit("accepted")}onNo(){this.response.emit("rejected")}noTouchedOnce=!1;handleNoTouch(o){if(this.isMobile){if(o.preventDefault(),o.stopPropagation(),!this.noTouchedOnce){this.noTouchedOnce=!0,this.moveNoButton();return}this.moveNoButton()}}lastX=0;lastY=0;moveNoButton(){let _=0,y=0,j=0;do _=Math.random()*230,y=Math.random()*116,j=Math.hypot(_-this.lastX,y-this.lastY);while(j<80);this.lastX=_,this.lastY=y,this.noButtonStyle={left:`${_}px`,top:`${y}px`}}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=u({type:s,selectors:[["app-prpose-message"]],inputs:{name:[1,"name"]},outputs:{response:"response"},decls:17,vars:2,consts:[[1,"mb-4","text-center","text-4xl","font-extrabold","text-rose-700","tracking-tight"],[1,"mb-10","text-center","text-lg","leading-relaxed","text-rose-600"],[1,"font-semibold","text-rose-700","text-xl"],[1,"relative","mx-auto","flex","h-40","max-w-md","items-center","justify-center","gap-6","overflow-hidden"],["type","button",1,"z-10","rounded-2xl","bg-rose-600","px-8","py-3","text-lg","font-semibold","text-white","shadow-lg","transition-all","duration-200","hover:bg-rose-500","hover:shadow-xl","active:scale-95",3,"click"],["type","button","aria-label","Say No",1,"absolute","rounded-2xl","border","border-rose-300","bg-white","px-8","py-3","text-lg","font-semibold","text-rose-600","shadow-md","transition-all","duration-300","ease-out","hover:bg-rose-50",3,"mouseenter","touchstart","ngStyle"]],template:function(e,n){e&1&&(m(0,"h2",0),t(1),c(),m(2,"p",1),t(3," I\u2019ve been meaning to tell you this for a while."),M(4,"br"),t(5," You genuinely make everything feel lighter when you\u2019re around. "),M(6,"br")(7,"br"),t(8," So I thought I\u2019d just ask \u2014 "),M(9,"br"),m(10,"span",2),t(11," will you be my Valentine? "),c()(),m(12,"div",3)(13,"button",4),d("click",function(){return n.onYes()}),t(14," Yes \u{1F495} "),c(),m(15,"button",5),d("mouseenter",function(){return!n.isMobile&&n.moveNoButton()})("touchstart",function(p){return n.handleNoTouch(p)}),t(16," No \u{1F494} "),c()()),e&2&&(l(),x(" Hey ",n.name(),` \u2764\uFE0F
`),l(14),h("ngStyle",n.noButtonStyle))},dependencies:[L],encapsulation:2})};var I=class s{constructor(o){this.router=o}name=b("");reset=new f;onReset(){this.reset.emit("initial")}static \u0275fac=function(e){return new(e||s)(v(Y))};static \u0275cmp=u({type:s,selectors:[["app-success-message"]],inputs:{name:[1,"name"]},outputs:{reset:"reset"},decls:16,vars:1,consts:[[1,"mb-4","text-4xl","font-extrabold","text-rose-800","tracking-tight"],[1,"mb-3","text-lg","font-medium","text-rose-700"],[1,"font-semibold"],[1,"mb-4","text-rose-600","leading-relaxed"],[1,"text-sm","text-rose-500"],[1,"mt-8","flex","flex-col","items-center","gap-4","sm:flex-row","sm:justify-center"],["type","button",1,"rounded-2xl","border","border-rose-300","bg-white","px-8","py-3","text-lg","font-semibold","text-rose-600","shadow-md","transition-all","duration-200","hover:-translate-y-0.5","hover:bg-rose-50","hover:shadow-xl","focus:outline-none","focus:ring-2","focus:ring-rose-300","active:scale-95",3,"click"]],template:function(e,n){e&1&&(r(0,"h2",0),t(1," It\u2019s a Date! \u{1F496} "),a(),r(2,"p",1),t(3," You just made my day, "),r(4,"span",2),t(5),a(),t(6," \u{1F338} "),a(),r(7,"p",3),t(8," I\u2019ve been smiling since you said yes."),H(9,"br"),t(10," This little moment means more to me than you know. "),a(),r(11,"p",4),t(12," Here\u2019s to good conversations, shared laughs, and memories we\u2019ll look back on with warmth. "),a(),r(13,"div",5)(14,"button",6),S("click",function(){return n.onReset()}),t(15," Relive the Moment "),a()()),e&2&&(l(5),A(n.name()))},encapsulation:2})};var R=class s{name=b("");reset=new f;sweetLines=["Sometimes hearts take a second look \u{1F90D}","Good things often begin unexpectedly \u{1F337}","A small yes can lead to a beautiful story \u2728"];funnyLines=["That \u201CNo\u201D looked a little unsure \u{1F60C}","Are you sure your finger didn\u2019t slip? \u{1F604}","Blink twice if that was accidental \u{1F609}"];dynamicLine="";countdown=5;timerId;countdownId;ngOnInit(){this.pickRandomLine(),this.startAutoReset()}ngOnDestroy(){this.clearTimers()}onReset(){this.clearTimers(),this.reset.emit("initial")}pickRandomLine(){let o=Math.random()>.5?this.sweetLines:this.funnyLines;this.dynamicLine=o[Math.floor(Math.random()*o.length)]}startAutoReset(){this.timerId=window.setTimeout(()=>{this.onReset()},5e3),this.countdownId=window.setInterval(()=>{this.countdown--},1e3)}cancelAutoReset(){this.clearTimers(),this.countdown=0}clearTimers(){this.timerId&&clearTimeout(this.timerId),this.countdownId&&clearInterval(this.countdownId)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=u({type:s,selectors:[["app-reject-message"]],inputs:{name:[1,"name"]},outputs:{reset:"reset"},decls:13,vars:3,consts:[[1,"mb-4","text-3xl","font-extrabold","text-rose-800","tracking-tight","wobble"],[1,"mb-3","text-lg","font-medium","text-rose-700"],[1,"mb-4","text-rose-600","leading-relaxed","transition-all","duration-300"],[1,"text-sm","text-rose-500"],[1,"mt-8","flex","justify-center"],["type","button",1,"pulse","rounded-2xl","bg-rose-600","px-8","py-3","text-lg","font-semibold","text-white","shadow-lg","transition-all","duration-200","hover:-translate-y-0.5","hover:bg-rose-500","hover:shadow-xl","focus:outline-none","focus:ring-2","focus:ring-rose-400","active:scale-95",3,"click","mouseenter"],[1,"mt-4","text-xs","text-rose-400"]],template:function(e,n){e&1&&(r(0,"h2",0),t(1," That\u2019s Okay\u2026 or is it? \u{1F97A} "),a(),r(2,"p",1),t(3),a(),r(4,"p",2),t(5),a(),r(6,"p",3),t(7," No pressure at all. Just checking one last time \u{1F4AB} "),a(),r(8,"div",4)(9,"button",5),S("click",function(){return n.onReset()})("mouseenter",function(){return n.cancelAutoReset()}),t(10," Maybe\u2026 let me see again \u{1F48C} "),a()(),r(11,"p",6),t(12),a()),e&2&&(l(3),x(" Thanks for being honest, ",n.name()," \u{1F338} "),l(2),x(" ",n.dynamicLine," "),l(7),x(" Returning automatically in ",n.countdown," seconds\u2026 "))},styles:[".pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.04)}to{transform:scale(1)}}.wobble[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_wobble 1.5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_wobble{0%{transform:rotate(-.5deg)}to{transform:rotate(.5deg)}}"]})};function W(s,o){if(s&1){let e=D();m(0,"app-success-message",1),d("reset",function(i){w(e);let p=g();return E(p.setResponse(i))}),c()}if(s&2){let e=g();h("name",e.name())}}function $(s,o){if(s&1){let e=D();m(0,"app-reject-message",1),d("reset",function(i){w(e);let p=g();return E(p.setResponse(i))}),c()}if(s&2){let e=g();h("name",e.name())}}function q(s,o){if(s&1){let e=D();m(0,"app-prpose-message",2),d("response",function(i){w(e);let p=g();return E(p.setResponse(i))}),c()}if(s&2){let e=g();h("name",e.name())}}var F=class s{constructor(o,e){this.router=o;this.encryptService=e;this.router.queryParams.subscribe(async n=>{let i=n.name;this.name.set(await this.encryptService.decrypt(i))})}name=T("");proposalRes=T(null);setResponse(o){this.proposalRes.set(o)}static \u0275fac=function(e){return new(e||s)(v(V),v(B))};static \u0275cmp=u({type:s,selectors:[["app-home"]],decls:3,vars:1,consts:[[3,"name"],[3,"reset","name"],[3,"response","name"]],template:function(e,n){if(e&1&&O(0,W,1,1,"app-success-message",0)(1,$,1,1,"app-reject-message",0)(2,q,1,1,"app-prpose-message",0),e&2){let i;P((i=n.proposalRes())==="accepted"?0:i==="rejected"?1:2)}},dependencies:[C,I,R],encapsulation:2})};export{F as Home};
