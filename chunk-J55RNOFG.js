import{a as c}from"./chunk-WLR22GP5.js";var a=class o{encoder=new TextEncoder;decoder=new TextDecoder;password="my-secret-key";async encrypt(e){let t=await this.deriveKey(),r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},t,this.encoder.encode(e));return encodeURIComponent(btoa(String.fromCharCode(...r)+String.fromCharCode(...new Uint8Array(n))))}async decrypt(e){let t=Uint8Array.from(atob(decodeURIComponent(e)),d=>d.charCodeAt(0)),r=t.slice(0,12),n=t.slice(12),i=await this.deriveKey(),s=await crypto.subtle.decrypt({name:"AES-GCM",iv:r},i,n);return this.decoder.decode(s)}async deriveKey(){let e=await crypto.subtle.digest("SHA-256",this.encoder.encode(this.password));return crypto.subtle.importKey("raw",e,{name:"AES-GCM"},!1,["encrypt","decrypt"])}static \u0275fac=function(t){return new(t||o)};static \u0275prov=c({token:o,factory:o.\u0275fac,providedIn:"root"})};export{a};
